---
import { type CollectionEntry, getCollection } from "astro:content";
import BlogPost from "../layouts/BlogPost.astro";
import { render } from "astro:content";
import { collections } from "../content.config";

export async function getStaticPaths() {
  const blogPosts = await getCollection("blog");
  const trendingPosts = await getCollection("trending");
  return [
    ...blogPosts.map((post) => ({
      params: { slug: post.id },
      props: { ...post, collection: "blog" },
    })),
    ...trendingPosts.map((post) => ({
      params: { slug: post.id },
      props: { ...post, collection: "trending" },
    })),
  ];
}
type Props = CollectionEntry<"blog" | "trending"> 

const post = Astro.props;
const { Content } = await render(post);
---

<BlogPost {...post.data}>
  <Content />
</BlogPost>
